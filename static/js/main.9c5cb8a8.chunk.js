(this["webpackJsonppiggy-bank"]=this["webpackJsonppiggy-bank"]||[]).push([[0],{111:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(13),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(12),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9),react_dom__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__),_Calculator_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(213),_Calculator_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_Calculator_css__WEBPACK_IMPORTED_MODULE_8__),mdbreact__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(10),Calculator=function(_Component){function Calculator(e){var t;return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Calculator),(t=Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Calculator).call(this,e))).state={mathString:""},t.appendNumber=t.appendNumber.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.appendOperator=t.appendOperator.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.remove=t.remove.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.clear=t.clear.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.calc=t.calc.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t}return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(Calculator,_Component),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Calculator,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(mdbreact__WEBPACK_IMPORTED_MODULE_9__.e,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(mdbreact__WEBPACK_IMPORTED_MODULE_9__.b,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(mdbreact__WEBPACK_IMPORTED_MODULE_9__.c,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("h3",null,"Calculator"),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("main",{className:"mt-5"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorScreen,{text:this.state.mathString})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"/",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"*",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"+",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"-",cols:"2",mathFunc:this.appendOperator})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"7",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"8",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"9",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"\u232b",cols:"2",mathFunc:this.remove})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"4",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"5",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"6",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"C",cols:"2",mathFunc:this.clear})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"1",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"2",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"3",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"=",cols:"2",mathFunc:this.calc})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"0",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:".",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"%",cols:"2",mathFunc:this.appendOperator})))))))}},{key:"appendNumber",value:function(e){this.setState({mathString:this.state.mathString+e})}},{key:"appendOperator",value:function(e){var t=this.state.mathString.charAt(this.state.mathString.length-1);isNaN(t)?this.setState({mathString:this.state.mathString.slice(0,this.state.mathString.length-1)+e}):this.setState({mathString:this.state.mathString+e})}},{key:"remove",value:function(){this.setState({mathString:this.state.mathString.slice(0,this.state.mathString.length-1)})}},{key:"clear",value:function(){this.setState({mathString:""})}},{key:"calc",value:function calc(){try{var ans=eval(this.state.mathString);(isNaN(ans)||ans==1/0)&&(ans=""),this.setState({mathString:""+ans})}catch(e){e instanceof SyntaxError&&(window.alert("Incorrect equation"),this.setState({mathString:""}))}}}]),Calculator}(react__WEBPACK_IMPORTED_MODULE_6__.Component),CalculatorScreen=function(e){function t(e){return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,t),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(t).call(this,e))}return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(t,e),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(t,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"col-12 text-left bg-info border border-default d-block p-3"},""!=this.props.text?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{className:"overflow-auto"},this.props.text):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"0"))}}]),t}(react__WEBPACK_IMPORTED_MODULE_6__.Component),CalculatorButton=function(e){function t(e){var a;return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,t),(a=Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(t).call(this,e))).mathFunc=a.mathFunc.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(a)),a}return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(t,e),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(t,[{key:"render",value:function(){var e="col-"+this.props.cols;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:e+" font-weight-bold btn btn-primary border border-default",onClick:this.mathFunc},this.props.elem)}},{key:"mathFunc",value:function(){this.props.mathFunc(this.props.elem)}}]),t}(react__WEBPACK_IMPORTED_MODULE_6__.Component);__webpack_exports__.a=Calculator},175:function(e,t,a){e.exports=a(355)},180:function(e,t,a){},181:function(e,t,a){},192:function(e,t,a){},213:function(e,t,a){},355:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),o=a.n(l),s=(a(180),a(15)),c=a(13),i=a(16),u=a(17),_=a(12),m=a(18),d=(a(181),a(60)),h=a.n(d);h.a.initializeApp({apiKey:"AIzaSyDm-9VzoXGLZji26XDghH9gx_n52rgmsHY",authDomain:"piggy-bank-71144.firebaseapp.com",databaseURL:"https://piggy-bank-71144.firebaseio.com",projectId:"piggy-bank-71144",storageBucket:"piggy-bank-71144.appspot.com",messagingSenderId:"677504131374",appId:"1:677504131374:web:7d80a2b5b5a3b094ed5abf"});var p=h.a.firestore(),E=h.a,g=a(49);a(192);var b=a(19);a(193);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}r.a.Component;var v=a(404),O=a(417),C=a(412),y=a(153),D=a.n(y),k=a(413),M=a(416),P=a(415),U=a(414),w=a(431),B=a(408),j=a(434),x=a(409),T=a(406),A=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(b.a)({},e,t.target.value))}},a.state={name:"",amount:"",category:"Bills & Utilities",date:0},a.NewExpenseForm=a.NewExpenseForm.bind(Object(_.a)(a)),a.ExpenseFormDialog=a.ExpenseFormDialog.bind(Object(_.a)(a)),a.createExpense=a.createExpense.bind(Object(_.a)(a)),a.handleChange=a.handleChange.bind(Object(_.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createExpense",value:function(e,t,a,n){return{name:e,amount:t,category:a,date:n}}},{key:"NewExpenseForm",value:function(){var e=Object(v.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:200},menu:{width:200}}}))();return r.a.createElement("div",null,r.a.createElement(T.a,{className:(e.margin,e.textField)},r.a.createElement(j.a,{htmlFor:"standard-adornment-name"},"Name"),r.a.createElement(B.a,{id:"standard-adornment-name",value:this.state.name,onChange:this.handleChange("name")})),r.a.createElement(T.a,{className:(e.margin,e.textField)},r.a.createElement(j.a,{htmlFor:"standard-adornment-amount"},"Amount"),r.a.createElement(B.a,{id:"standard-adornment-amount",type:"number",step:".01",min:"0",max:"999999",value:this.state.amount,onChange:this.handleChange("amount"),startAdornment:r.a.createElement(x.a,{position:"start"},"$")})),r.a.createElement(w.a,{id:"standard-select-category-native",select:!0,label:"Category",className:e.textField,value:this.state.category,onChange:this.handleChange("category"),SelectProps:{native:!0,MenuProps:{className:e.menu}},margin:"normal"},[{value:"Bills & Utilities"},{value:"Entertainment"},{value:"Food & Drink"},{value:"Groceries"},{value:"Gas"},{value:"Shopping"},{value:"Automotive"},{value:"Education"},{value:"Health & Wellness"},{value:"Gifts & Donations"},{value:"Personal"},{value:"Travel"},{value:"Home"}].map((function(e){return r.a.createElement("option",{key:e.value,value:e.value},e.value)}))),r.a.createElement(w.a,{id:"date",label:"Date of Expense",type:"date",placeholder:"YYYY-MM-DD",className:e.textField,value:this.state.date,onChange:this.handleChange("date"),InputLabelProps:{shrink:!0}}))}},{key:"ExpenseFormDialog",value:function(){var e=this,t=Object(v.a)((function(e){return{fab:{margin:e.spacing(1)}}})),a=r.a.useState(!1),n=Object(g.a)(a,2),l=n[0],o=n[1],s=function(){o(!1)},c=t();return r.a.createElement("div",null,r.a.createElement(C.a,{color:"primary","aria-label":"add",className:c.fab,onClick:function(){o(!0)}},r.a.createElement(D.a,null)),r.a.createElement(k.a,{open:l,onClose:s,"aria-labelledby":"form-dialog-title"},r.a.createElement(U.a,{id:"form-dialog-title"},"New Expense"),r.a.createElement(P.a,null,r.a.createElement(this.NewExpenseForm,null)),r.a.createElement(M.a,null,r.a.createElement(O.a,{onClick:s,color:"primary"},"Cancel"),r.a.createElement(O.a,{onClick:function(){var t;t=e.createExpense(e.state.name,e.state.amount,e.state.category,e.state.date);var a=p.collection("users").doc(E.auth().currentUser.email);console.log(t,"Is going through",E.auth().currentUser.email);var n=e.state.date.substring(0,7);console.log(n),a.update({expenses:h.a.firestore.FieldValue.arrayUnion(t)}).then((function(){console.log("updating DB")})).catch((function(e){console.log("Error caused by no doc existing for db. Creating new categories: ",e),a.set({expenses:t},{merge:!0}).catch((function(e){console.log("Somethings really wrong: ",e)}))})),e.setState({name:"",amount:"",category:"Bills & Utilities",date:""}),o(!1)},color:"primary"},"Add"))))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(this.ExpenseFormDialog,null))}}]),t}(r.a.Component),S=a(429),I=a(432),L=a(418),R=a(63),W=a(157),N=a.n(W),K=a(419),F=a(423),Y=a(422),q=a(420),G=a(421),H=a(160),z=a(48),$=a(10),V=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={expenses:[],found:!1},a.UserExpenseTable=a.UserExpenseTable.bind(Object(_.a)(a)),a.ExampleExpenseTable=a.ExampleExpenseTable.bind(Object(_.a)(a)),a.Accordion=a.Accordion.bind(Object(_.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createExpense",value:function(e,t,a,n){return{name:e,amount:t,category:a,date:n}}},{key:"componentDidMount",value:function(){var e=this;E.auth().onAuthStateChanged((function(t){if(t){var a=p.collection("users").doc(E.auth().currentUser.email);E.auth().currentUser.email;a.onSnapshot({includeMetadataChanges:!0},(function(t){void 0===t.data().expenses?e.setState({found:!1}):e.setState({expenses:t.data().expenses,found:!0})}))}}))}},{key:"Accordion",value:function(){var e,t=Object(v.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}))();return e=this.state.found?r.a.createElement(this.UserExpenseTable,null):r.a.createElement(this.ExampleExpenseTable,null),r.a.createElement("div",{className:t.root},r.a.createElement(S.a,null,r.a.createElement(I.a,{expandIcon:r.a.createElement(N.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(R.a,{className:t.heading},"Your Expense Log")),r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center"}},r.a.createElement(L.a,null,r.a.createElement(R.a,null,e)))))}},{key:"ExampleExpenseTable",value:function(){var e=Object(v.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}}),t=[];(t=[this.createExpense("Stater Bros",50,"Groceries","11/25/2019")]).push(this.createExpense("Movie",30,"Entertainment","11/18/2019")),t.push(this.createExpense("Disneyland",300,"Entertainment","11/10/2019"));var a=e();return r.a.createElement(H.a,{className:a.root},r.a.createElement(K.a,{className:a.table,"aria-label":"Example Expenses"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(Y.a,null,"Example Expenses"),r.a.createElement(Y.a,{align:"right"},"Amount"),r.a.createElement(Y.a,{align:"right"},"Category"),r.a.createElement(Y.a,{align:"right"},"Date"))),r.a.createElement(F.a,null,t.map((function(e){return r.a.createElement(G.a,{key:e.index},r.a.createElement(Y.a,{component:"th",scope:"row"},e.name),r.a.createElement(Y.a,{align:"right"},e.amount),r.a.createElement(Y.a,{align:"right"},e.category),r.a.createElement(Y.a,{align:"right"},e.date))})))))}},{key:"UserExpenseTable",value:function(){var e=Object(v.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})();return r.a.createElement(H.a,{className:e.root},r.a.createElement(K.a,{className:e.table,"aria-label":"Expenses"},r.a.createElement(q.a,null,r.a.createElement(G.a,null,r.a.createElement(Y.a,null,"Expense"),r.a.createElement(Y.a,{align:"right"},"Amount ($)"),r.a.createElement(Y.a,{align:"right"},"Category"),r.a.createElement(Y.a,{align:"right"},"Date"))),r.a.createElement(F.a,null,this.state.expenses.map((function(e){return r.a.createElement(G.a,{key:e.index},r.a.createElement(Y.a,{component:"th",scope:"row"},e.name),r.a.createElement(Y.a,{align:"right"},e.amount),r.a.createElement(Y.a,{align:"right"},e.category),r.a.createElement(Y.a,{align:"right"},e.date))})))))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(this.Accordion,null),r.a.createElement(A,null))}}]),t}(r.a.Component),X=Object(z.f)(V),J=(n.Component,function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).updateInput=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.setBudget=function(t){t.preventDefault();var a=e.state.budget,n=p.collection("users").doc(E.auth().currentUser.email);n.update({budget:a}).then((function(){console.log("updating DB")})).catch((function(e){console.log("Error caused by no doc existing for db. Creating new categories: ",e),n.set({budget:a},{merge:!0}).catch((function(e){console.log("Somethings really wrong: ",e)}))})),e.setState({budget:""})},e.splitByMonth=function(){console.log(e.state.expenses);var t=new Date,a=t.getFullYear()+"-"+(parseInt(t.getMonth())+1).toString();console.log(a);for(var n=0,r=0;r<e.state.expenses.length;r++){a==e.state.expenses[r].date.substr(0,7)&&(n+=parseFloat(e.state.expenses[r].amount));var l=(parseFloat(e.state.display_budget)-n).toString();console.log(l),console.log(e.state.display_budget),console.log(n),e.setState({currbudget:l})}},e.state={budget:"",currbudget:"0",display_budget:"",expenses:[],name:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.auth().onAuthStateChanged((function(t){if(t){var a=0,n=p.collection("users").doc(E.auth().currentUser.email);E.auth().currentUser.email;n.onSnapshot({includeMetadataChanges:!0},(function(t){try{e.setState({display_budget:t.data().budget,expenses:t.data().expenses}),e.splitByMonth()}catch(n){console.log("We getting an error: ",n),a=0}})),1==a||e.setState({display_budget:"None",expenses:["None"]})}}))}},{key:"componentDidUpdate",value:function(){var e=this,t=0,a=0;E.firestore().collection("users").get().then((function(n){n.forEach((function(e){e.id==E.auth().currentUser.email&&(t=e.data().budget,a=1)})),0==a?e.setState({display_budget:"undefined"}):e.setState({display_budget:t})})).catch((function(e){console.log("Error fetching data: ",e)}))}},{key:"onKeyPress",value:function(e){var t=e.keyCode||e.which,a=String.fromCharCode(t);/\+|-/.test(a)&&e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",null,"Total Budget for this month: ",r.a.createElement("b",null,"$",this.state.display_budget),r.a.createElement("br",null),"Remaining Budget After Expenses:"," ",r.a.createElement("b",null,this.state.currbudget<0?r.a.createElement("font",{color:"red"},"$",this.state.currbudget):r.a.createElement("font",{color:"green"},"$",this.state.currbudget)),r.a.createElement("br",null),r.a.createElement("b",null,this.state.currbudget<0?r.a.createElement("font",{color:"red"},"You are under budget, try to re-evaluate your spending."):r.a.createElement("font",{color:"green"},"You are within budget, keep it up!")),r.a.createElement("br",null),r.a.createElement("form",{onSubmit:this.setBudget},r.a.createElement("div",{class:"mdl-textfield mdl-js-textfield"},r.a.createElement("input",{class:"mdl-textfield__input",onKeyPress:this.onKeyPress.bind(this),type:"number",min:"0",max:"999999",step:".01",name:"budget",placeholder:"Set your budget",onChange:this.updateInput,value:this.state.budget,required:!0})),r.a.createElement("button",{class:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored  ",type:"submit"},"Save"),r.a.createElement("br",null)))}}]),t}(n.Component)),Z=a(111),Q=a(70),ee=a(424),te=a(428),ae=a(20),ne=200,re=320,le=50,oe=70,se=0,ce=function(e){function t(e){var a;Object(s.a)(this,t);var n=new Date,r=new Date;r.setDate(r.getDate()-7);var l=new Date;l.setDate(l.getDate()-14);var o=new Date;o.setDate(o.getDate()-21);var c=new Date;return c.setDate(c.getDate()-28),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChangeSelect=function(e){var t=e.target;a.setState({currMonth:t.value});var n=a.state.monthList.indexOf(a.state.currMonth);-1!=n&&(a.setLineGraphData(n),a.setDoughnutGraphData(n))},a.splitByMonth=function(){for(var e=0;e<a.state.expenses.length;e++){var t=a.state.expenses[e].date.substr(0,7);t in a.state.monthCat?a.state.monthCat[t].push(a.state.expenses[e]):(a.state.monthCat[t]=[a.state.expenses[e]],a.state.monthList.push(t)),console.log(a.state.monthCat),console.log(a.state.monthList)}},a.selectColor=function(e){return["rgba(255, 0, 0, .75)","rgba(255, 128, 0, .75)","rgba(255, 255, 0, .75)","rgba(128, 255, 0, .75)","rgba(0, 255, 0, .75)","rgba(0, 255, 128, .75)","rgba(0, 255, 255, .75)","rgba(0, 128, 255, .75)","rgba(0, 0, 255, .75)","rgba(127, 0, 255, .75)","rgba(255, 0, 255, .75)","rgba(255, 0, 127, .75)","rgba(128, 128, 128, .75)","rgba(223, 223, 223, .75)","rgba(25, 25, 25, .75)"][e]},a.sortDates=function(e,t){for(var n=0;n<t.length-1;n++)for(var r=n+1;r<t.length;r++)if(parseInt(t[r].substr(3,4))<parseInt(t[n].substr(3,4))){var l=t[r];t[r]=t[n],t[n]=l,l=e[r],e[r]=e[n],e[n]=l}console.log(e),console.log(t),a.state.graphData[0].labels=t,a.state.graphData[0].datasets[0].data=e},a.checkDuplicatesLine=function(e){for(var t=[],n=0;n<e.length;n++){for(var r=!1,l=0;l<n;l++)if(e[n].amount==e[l].amount&&e[n].name==e[l].name){r=!0;break}r||t.push(e[n])}a.state.noDups=t,console.log(a.state.noDups)},a.setLineGraphData=function(e){var t=a.state.monthCat[a.state.monthList[e]];a.checkDuplicatesLine(t),t=a.state.noDups,console.log(t);for(var n=[],r=[],l=0;l<t.length;l++){var o=parseFloat(t[l].amount),s=t[l].date,c=s.charAt(5)+s.charAt(6)+"/"+s.charAt(8)+s.charAt(9),i=r.indexOf(c);-1!=i?(n[i]=n[i]+o,n[i]=parseFloat(n[i].toPrecision(4))):(n.push(o),r.push(c))}console.log(n),console.log(r),a.sortDates(n,r)},a.setDoughnutGraphData=function(e){var t=a.state.monthCat[a.state.monthList[e]];a.checkDuplicatesLine(t),t=a.state.noDups;for(var n=[],r=[],l=[],o=0;o<t.length;o++){var s=parseFloat(t[o].amount),c=t[o].category,i=r.indexOf(c);if(-1!=i)n[i]=n[i]+s,n[i]=parseFloat(n[i].toPrecision(4));else{n.push(s),r.push(c);var u=a.selectColor(l.length);l.push(u)}}a.state.graphData[1].labels=r,a.state.graphData[1].datasets[0].data=n,a.state.graphData[1].datasets[0].backgroundColor=l},a.state={value:"",pastInput:1,decimal:!1,expenses:[],monthCat:{},monthList:[],currMonth:"2019-12",currMonthIndex:0,count:0,noDups:[],graphData:[{labels:[c.getUTCMonth()+1+"/"+c.getUTCDate(),o.getUTCMonth()+1+"/"+o.getUTCDate(),l.getUTCMonth()+1+"/"+l.getUTCDate(),r.getUTCMonth()+1+"/"+r.getUTCDate(),n.getUTCMonth()+1+"/"+n.getUTCDate()],datasets:[{label:"Spent",data:[ne,re,le,oe,se],backgroundColor:["rgba(224, 54, 20, 0.2)"],borderColor:["rgba(224, 54, 20,1)"]}]},{datasets:[{data:[ne,re,le,oe,se],backgroundColor:["rgba(255, 0, 0, .75)"],borderColor:["#fff"]}],labels:[c.getUTCMonth()+1+"/"+c.getUTCDate(),o.getUTCMonth()+1+"/"+o.getUTCDate(),l.getUTCMonth()+1+"/"+l.getUTCDate(),r.getUTCMonth()+1+"/"+r.getUTCDate(),n.getUTCMonth()+1+"/"+n.getUTCDate()]}]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.auth().onAuthStateChanged((function(t){if(t){var a=0,n=p.collection("users").doc(E.auth().currentUser.email);E.auth().currentUser.email;n.onSnapshot({includeMetadataChanges:!0},(function(t){try{return e.setState({expenses:t.data().expenses}),console.log(e.state.expenses),console.log("Going through userRef snapshot"),void e.splitByMonth()}catch(n){console.log("We getting an error: ",n),a=0}})),1==a||e.setState({expenses:["None"]})}}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ae.a,null,r.a.createElement("div",null,r.a.createElement(T.a,null,r.a.createElement("form",null,r.a.createElement(j.a,{id:"demo-simple-select-label"},"Month"),r.a.createElement(te.a,{labelId:"demo-simple-select-label",id:"demo-simple-select",value:this.state.currMonth,onChange:this.handleChangeSelect},this.state.monthList.map((function(e){return r.a.createElement(ee.a,{key:e,value:e},e)}))),r.a.createElement("br",null),r.a.createElement($.a,{color:"primary",type:"button",onClick:this.handleChangeSelect},"load data")),r.a.createElement("br",null)),r.a.createElement(Q.b,{data:this.state.graphData[0],width:500,height:200,options:{responsive:!0,title:{display:!0,text:"Monthly Spending History Per Day",fontSize:20},legend:{display:!0,position:"top"},layout:{padding:{left:0,right:0,top:0,bottom:10}}}})),r.a.createElement("div",null,r.a.createElement(Q.a,{data:this.state.graphData[1],width:100,height:350,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Monthly Spending History Per Category",fontSize:20},legend:{display:!0,position:"top"},layout:{padding:{left:0,right:0,top:0,bottom:10}}}}))))}}]),t}(n.Component),ie=Object(z.f)(ce),ue=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).prettyCurrency=function(e,t){0===t?e=102*e/100:1===t&&(e=98*e/100);for(var a=e.toFixed(4).toString();a.length<8;)a="0"+a;return a},a.createTable=function(){var e=a.state,t=Object.keys(e).map((function(t){return e[t]}))[2],n=[],l=[],o=["RUB","CAD","GBP","CHF","JPY","EUR"];for(var s in t)t.hasOwnProperty(s)&&o.includes(s)&&l.push(r.a.createElement("tr",null,r.a.createElement("td",null,s),r.a.createElement("td",null,a.prettyCurrency(t[s],0)),r.a.createElement("td",null,a.prettyCurrency(t[s])),r.a.createElement("td",null,a.prettyCurrency(t[s],1))));return n.push(r.a.createElement("tbody",null,l)),n},a.state={error:null,isLoaded:!1,rates:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.exchangeratesapi.io/latest?base=USD").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,rates:t.rates})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded;return t?r.a.createElement("div",null,"Oops: ",t.message):a?r.a.createElement("div",null,r.a.createElement($.e,null,r.a.createElement($.b,null,r.a.createElement($.c,null,r.a.createElement("h3",null,"Live Exchange Rates"),r.a.createElement("table",{className:"currencyTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\xa0"),r.a.createElement("th",null,"BUY"),r.a.createElement("th",null,"EXCHANGE RATE"),r.a.createElement("th",null,"SELL"))),this.createTable()),r.a.createElement("p",null,r.a.createElement("br",null),"Data fetched from\xa0",r.a.createElement("a",{href:"https://exchangeratesapi.io/"},"https://exchangeratesapi.io/"),"\xa0"))))):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component);var _e=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={focus:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.auth().onAuthStateChanged((function(t){if(t){var a=0,n=p.collection("users").doc(E.auth().currentUser.email);E.auth().currentUser.email;n.onSnapshot({includeMetadataChanges:!0},(function(t){try{e.setState({focus:t.data().focus})}catch(n){console.log("We getting an error: ",n),a=0}})),1==a||e.setState({focus:["N/A"]})}}))}},{key:"render",value:function(){return r.a.createElement("div",null,this.state.focus?r.a.createElement("div",null,"Your focus:"," ",r.a.createElement("b",null,r.a.createElement("mark",null,this.state.focus))," "):r.a.createElement("div",null,r.a.createElement("mark",null,"You currently do not have a focus, set one in your profile page!")),r.a.createElement(J,null),r.a.createElement(X,null),r.a.createElement("br",null),r.a.createElement(ie,null),r.a.createElement("br",null))}}]),t}(r.a.Component);o.a.render(r.a.createElement(ae.a,null,r.a.createElement(_e,null)),document.getElementById("root"));var me,de,he=_e,pe=(a(430),a(411),a(425),a(426),a(357),a(427),Object(v.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}})),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).state={testing:""},a.logout=a.logout.bind(Object(_.a)(a)),console.log("Got to homepage"),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){E.auth().signOut()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.e,null,r.a.createElement($.b,null,r.a.createElement($.c,null,r.a.createElement("h3",null,"Welcome back to Piggy Bank!  ",this.state.testing," "),r.a.createElement(he,null)))))}}]),t}(n.Component)),Ee=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleAMChange=function(e){a.setState({amountneed:e.target.value},(function(){a.validateAM()}))},a.handleCSChange=function(e){a.setState({currentsave:e.target.value},(function(){a.validateCS()}))},a.handleYRChange=function(e){a.setState({yearstosave:e.target.value},(function(){a.validateYR()}))},a.handleMOChange=function(e){a.setState({monthstosave:e.target.value},(function(){a.validateMO()}))},a.validateAM=function(){var e=a.state.amountneed;a.setState({amError:e>0?null:"Invalid input"})},a.validateCS=function(){var e=a.state.currentsave;a.setState({csError:e>-1?null:"Invalid input"})},a.validateYR=function(){var e=a.state.yearstosave;a.setState({yrError:e>-1?null:"Invalid input"})},a.validateMO=function(){var e=a.state.monthstosave;a.setState({moError:e>-1?null:"Invalid input"})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.amountneed,r=t.currentsave,l=t.yearstosave,o=t.monthstosave;de=Number(12*l)+Number(o),me=(Number(n)-Number(r))/Number(de),alert("You need to save approximately $"+Math.ceil(me)+" per month to reach your goal. \nGood luck!")},a.state={amountneed:"",currentsave:"",yearstosave:"",monthstosave:"",amError:"",csError:"",yrError:"",moError:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement($.e,null,r.a.createElement($.b,null,r.a.createElement($.c,null,r.a.createElement("h3",null,"Savings Estimator"),r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"amountneed"},"How much will you need?"),r.a.createElement("input",{amountneed:"amountneed",className:"form-control ".concat(this.state.amError?"is-invalid":""),id:"amountneed",placeholder:"1000",type:"number",value:this.state.amountneed,onChange:this.handleAMChange,onBlur:this.validateAM}),r.a.createElement("div",{className:"invalid-feedback"},this.state.amError)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"currentsave"},"How much do you currently have saved?"),r.a.createElement("input",{currentsave:"currentsave",className:"form-control ".concat(this.state.csError?"is-invalid":""),id:"currentsave",placeholder:"1000",type:"number",value:this.state.currentsave,onChange:this.handleCSChange,onBlur:this.validateCS}),r.a.createElement("div",{className:"invalid-feedback"},this.state.csError)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"yearstosave"},"How many years?"),r.a.createElement("input",{yearstosave:"yearstosave",className:"form-control ".concat(this.state.yrError?"is-invalid":""),id:"yearstosave",placeholder:"0",type:"number",value:this.state.yearstosave,onChange:this.handleYRChange,onBlur:this.validateYR}),r.a.createElement("div",{className:"invalid-feedback"},this.state.yrError)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"monthstosave"},"How many months?"),r.a.createElement("input",{monthstosave:"monthstosave",className:"form-control ".concat(this.state.moError?"is-invalid":""),id:"monthstosave",placeholder:"0",type:"number",value:this.state.monthstosave,onChange:this.handleMOChange,onBlur:this.validateMO}),r.a.createElement("div",{className:"invalid-feedback"},this.state.moError)),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-block"},"Submit")))))}}]),t}(r.a.Component),ge=function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this)))._isMounted=!1,e.updateInfo=e.updateInfo.bind(Object(_.a)(e)),e.handleChange=e.handleChange.bind(Object(_.a)(e)),e.logout=e.logout.bind(Object(_.a)(e)),e.state={budget:"",bio:"",focus:"",name:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){E.auth().signOut()}},{key:"handleChange",value:function(e){this._isMounted&&this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"componentDidMount",value:function(){this._isMounted=!0;var e=this;E.auth().onAuthStateChanged((function(t){if(t){var a=0,n=p.collection("users").doc(E.auth().currentUser.email);E.auth().currentUser.email;n.onSnapshot({includeMetadataChanges:!0},(function(t){try{e.setState({budget:t.data().budget,bio:t.data().bio,focus:t.data().focus,name:t.data().name})}catch(n){console.log("We getting an error: ",n),a=0}})),1==a||e.setState({budget:["N/A"]})}}))}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"updateInfo",value:function(e){p.collection("users").doc(E.auth().currentUser.email).update({name:this.state.name,bio:this.state.bio,focus:this.state.focus,budget:this.state.budget}).then((function(){alert("Update successful.")})).catch((function(e){alert("Error in updating the document.")}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement($.c,null,r.a.createElement($.b,null,r.a.createElement($.e,null,r.a.createElement("h3",null,"User Profile"),r.a.createElement("form",null,r.a.createElement($.f,{value:this.state.name,onChange:this.handleChange,label:"Your name",icon:"user",group:!0,name:"name",type:"text",validate:!0,error:"wrong",success:"right"}),r.a.createElement($.f,{value:E.auth().currentUser.email,label:"Your email",icon:"envelope",group:!0,name:"email",type:"text",error:"wrong",success:"right",disabled:!0}),r.a.createElement($.f,{value:this.state.budget,onChange:this.handleChange,label:"Budget",icon:"envelope",group:!0,name:"budget",type:"number",error:"wrong",success:"right"}),r.a.createElement($.f,{value:this.state.bio,onChange:this.handleChange,label:"Bio",icon:"envelope",group:!0,name:"bio",type:"textarea",error:"wrong",success:"right"}),r.a.createElement($.f,{value:this.state.focus,onChange:this.handleChange,label:"What's your focus?",icon:"envelope",group:!0,name:"focus",type:"textarea",error:"wrong",success:"right"}),r.a.createElement("div",{className:"text-center py-4 mt-3"},r.a.createElement($.a,{color:"primary",type:"button",onClick:this.updateInfo},"Update Info"),r.a.createElement($.a,{type:"button",onClick:this.logout},"Logout")))))))}}]),t}(n.Component),be=function(){return r.a.createElement(z.c,null,r.a.createElement(z.a,{exact:!0,path:"/",component:pe}),r.a.createElement(z.a,{path:"/profile",component:ge}),r.a.createElement(z.a,{path:"/currency",component:ue}),r.a.createElement(z.a,{path:"/linegraph",component:ie}),r.a.createElement(z.a,{path:"/calculator",component:Z.a}),r.a.createElement(z.a,{path:"/spendingcalc",component:Ee}))},fe=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(_.a)(a)),a.signup=a.signup.bind(Object(_.a)(a)),a.state={name:"",email:"",password:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){e.preventDefault(),E.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).then((function(e){console.log(e)})).catch((function(e){console.log(e),alert(e)})),E.firestore().doc("/users/".concat(this.state.email)).set({name:this.state.name,password:this.state.password})}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"3vh",width:"1000px"}},r.a.createElement($.g,null,r.a.createElement($.e,null,r.a.createElement($.h,null,r.a.createElement($.d,{md:"6"},r.a.createElement($.b,null,r.a.createElement($.c,null,r.a.createElement("form",null,r.a.createElement("p",{className:"h4 text-center py-4"},"Sign up"),r.a.createElement("div",{className:"grey-text"},r.a.createElement($.f,{value:this.state.name,onChange:this.handleChange,label:"Your name",icon:"user",group:!0,name:"name",type:"text",validate:!0,error:"wrong",success:"right"}),r.a.createElement($.f,{value:this.state.email,onChange:this.handleChange,label:"Your email",icon:"envelope",group:!0,name:"email",type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement($.f,{value:this.state.password,onChange:this.handleChange,label:"Your password",icon:"lock",group:!0,name:"password",type:"password",validate:!0})),r.a.createElement("div",{className:"text-center py-4 mt-3"},r.a.createElement($.a,{color:"orange",type:"submit",onClick:this.signup},"Register"),r.a.createElement($.a,{color:"blue",type:"submit",onClick:"close"},"Close"))))))))))}}]),t}(n.Component),ve=a(159),Oe=a.n(ve),Ce=function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(i.a)(this,Object(u.a)(t).call(this,e))).login=a.login.bind(Object(_.a)(a)),a.recaptchaLoaded=a.recaptchaLoaded.bind(Object(_.a)(a)),a.verifyCallback=a.verifyCallback.bind(Object(_.a)(a)),a.handleChange=a.handleChange.bind(Object(_.a)(a)),a.signup=a.signup.bind(Object(_.a)(a)),a.state={email:"",password:"",showsignup:!1,isVerified:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"recaptchaLoaded",value:function(){console.log("captcha loaded lul")}},{key:"verifyCallback",value:function(e){e&&this.setState({isVerified:!0})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){1==this.state.isVerified?(e.preventDefault(),console.log(this.state.email),E.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).catch((function(e){alert(e)}))):alert("Please complete human verification.")}},{key:"signup",value:function(e){1==this.state.isVerified?this.setState({showsignup:!0}):alert("Please complete human verification.")}},{key:"render",value:function(){return r.a.createElement($.e,null,r.a.createElement($.b,{style:{width:"80rem",height:"25rem",padding:"50px"}},r.a.createElement("form",null,r.a.createElement("p",{className:"h5 text-center mb-4"},"Sign in"),r.a.createElement("div",{className:"grey-text"},r.a.createElement($.f,{value:this.state.email,onChange:this.handleChange,label:"Type your email",icon:"envelope",group:!0,name:"email",type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement($.f,{value:this.state.password,onChange:this.handleChange,label:"Type your password",icon:"lock",group:!0,name:"password",type:"password",validate:!0})),r.a.createElement("div",{className:"d-inline"},r.a.createElement($.a,{type:"submit",onClick:this.login},"Login")),r.a.createElement("div",{className:"d-inline"},r.a.createElement($.a,{color:"indigo",onClick:this.signup},"SignUp"),this.state.showsignup?r.a.createElement(fe,null):null))),r.a.createElement(Oe.a,{sitekey:"6LdiycUUAAAAAO3vnWuzvNupDAi27ml9ywGkUCTl",render:"explicit",onloadCallback:this.recaptchaLoaded,verifyCallback:this.verifyCallback}))}}]),t}(n.Component),ye=(a(305),a(43)),De=(a(352),function(e){function t(){var e;return Object(s.a)(this,t),(e=Object(i.a)(this,Object(u.a)(t).call(this))).state={user:null,name:""},e.authListener=e.authListener.bind(Object(_.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener();var e=this;E.auth().onAuthStateChanged((function(t){if(t){var a=0,n=p.collection("users").doc(E.auth().currentUser.email);E.auth().currentUser.email;n.onSnapshot({includeMetadataChanges:!0},(function(t){try{e.setState({name:t.data().name})}catch(n){console.log("We getting an error: ",n),a=0}})),1==a||e.setState({name:["N/A"]})}}))}},{key:"authListener",value:function(){var e=this;E.auth().onAuthStateChanged((function(t){t?(e.setState({user:t}),localStorage.setItem("user",t.uid)):(e.setState({user:null}),localStorage.removeItem("user"))}))}},{key:"render",value:function(){return console.log(this.state.user),r.a.createElement("div",{id:"root"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(ye.Layout,{fixedHeader:!0},r.a.createElement(ye.Header,{title:r.a.createElement("span",null,r.a.createElement("span",{style:{color:"#ddd"}},"Piggy Bank "))},r.a.createElement(ye.Navigation,null,this.state.user?r.a.createElement(ae.b,{to:"/profile"},this.state.name," "):r.a.createElement("div",null))),r.a.createElement(ye.Drawer,null,r.a.createElement(ye.Navigation,null,r.a.createElement(ae.b,{to:"/"},"Home"),r.a.createElement(ae.b,{to:"/spendingcalc"},"Savings Estimator"),r.a.createElement(ae.b,{to:"/calculator"},"Calculator"),r.a.createElement(ae.b,{to:"/currency"},"Live Exchange Rates"))),r.a.createElement(ye.Content,null,r.a.createElement("div",{className:"page-content"}),r.a.createElement("div",{className:"App"},this.state.user?r.a.createElement(be,null):r.a.createElement(Ce,null))),r.a.createElement(ye.Footer,{class:"page-footer font-small blue "},r.a.createElement(ye.FooterSection,{type:"middle",logo:"\xa9 2019-2020 Team 0: https://github.com/jaeeee/Piggy-Bank"})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(353),a(354);o.a.render(r.a.createElement(ae.a,null,r.a.createElement(De,null)),document.getElementById("root")||document.createElement("div")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[175,1,2]]]);
//# sourceMappingURL=main.9c5cb8a8.chunk.js.map