(this["webpackJsonppiggy-bank"]=this["webpackJsonppiggy-bank"]||[]).push([[0],{110:function(module,__webpack_exports__,__webpack_require__){"use strict";var _Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__(15),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__(14),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__=__webpack_require__(16),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__=__webpack_require__(17),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__=__webpack_require__(13),_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__=__webpack_require__(18),react__WEBPACK_IMPORTED_MODULE_6__=__webpack_require__(0),react__WEBPACK_IMPORTED_MODULE_6___default=__webpack_require__.n(react__WEBPACK_IMPORTED_MODULE_6__),react_dom__WEBPACK_IMPORTED_MODULE_7__=__webpack_require__(9),react_dom__WEBPACK_IMPORTED_MODULE_7___default=__webpack_require__.n(react_dom__WEBPACK_IMPORTED_MODULE_7__),_Calculator_css__WEBPACK_IMPORTED_MODULE_8__=__webpack_require__(208),_Calculator_css__WEBPACK_IMPORTED_MODULE_8___default=__webpack_require__.n(_Calculator_css__WEBPACK_IMPORTED_MODULE_8__),mdbreact__WEBPACK_IMPORTED_MODULE_9__=__webpack_require__(11),Calculator=function(_Component){function Calculator(e){var t;return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,Calculator),(t=Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(Calculator).call(this,e))).state={mathString:""},t.appendNumber=t.appendNumber.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.appendOperator=t.appendOperator.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.remove=t.remove.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.clear=t.clear.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t.calc=t.calc.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(t)),t}return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(Calculator,_Component),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(Calculator,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(mdbreact__WEBPACK_IMPORTED_MODULE_9__.e,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(mdbreact__WEBPACK_IMPORTED_MODULE_9__.b,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(mdbreact__WEBPACK_IMPORTED_MODULE_9__.c,null,react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("main",{className:"mt-5"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorScreen,{text:this.state.mathString})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"/",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"*",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"+",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"-",cols:"2",mathFunc:this.appendOperator})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"7",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"8",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"9",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"\u232b",cols:"2",mathFunc:this.remove})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"4",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"5",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"6",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"C",cols:"2",mathFunc:this.clear})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"1",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"2",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"3",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"=",cols:"2",mathFunc:this.calc})),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"row"},react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"0",cols:"2",mathFunc:this.appendNumber}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:".",cols:"2",mathFunc:this.appendOperator}),react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement(CalculatorButton,{elem:"%",cols:"2",mathFunc:this.appendOperator})))))))}},{key:"appendNumber",value:function(e){this.setState({mathString:this.state.mathString+e})}},{key:"appendOperator",value:function(e){var t=this.state.mathString.charAt(this.state.mathString.length-1);isNaN(t)?this.setState({mathString:this.state.mathString.slice(0,this.state.mathString.length-1)+e}):this.setState({mathString:this.state.mathString+e})}},{key:"remove",value:function(){this.setState({mathString:this.state.mathString.slice(0,this.state.mathString.length-1)})}},{key:"clear",value:function(){this.setState({mathString:""})}},{key:"calc",value:function calc(){try{var ans=eval(this.state.mathString);(isNaN(ans)||ans==1/0)&&(ans=""),this.setState({mathString:""+ans})}catch(e){e instanceof SyntaxError&&(window.alert("Incorrect equation"),this.setState({mathString:""}))}}}]),Calculator}(react__WEBPACK_IMPORTED_MODULE_6__.Component),CalculatorScreen=function(e){function t(e){return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,t),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(t).call(this,e))}return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(t,e),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(t,[{key:"render",value:function(){return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("div",{className:"col-12 text-left bg-info border border-default d-block p-3"},""!=this.props.text?react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",{className:"overflow-auto"},this.props.text):react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("p",null,"0"))}}]),t}(react__WEBPACK_IMPORTED_MODULE_6__.Component),CalculatorButton=function(e){function t(e){var a;return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_classCallCheck__WEBPACK_IMPORTED_MODULE_0__.a)(this,t),(a=Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_possibleConstructorReturn__WEBPACK_IMPORTED_MODULE_2__.a)(this,Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_getPrototypeOf__WEBPACK_IMPORTED_MODULE_3__.a)(t).call(this,e))).mathFunc=a.mathFunc.bind(Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_assertThisInitialized__WEBPACK_IMPORTED_MODULE_4__.a)(a)),a}return Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_inherits__WEBPACK_IMPORTED_MODULE_5__.a)(t,e),Object(_Users_danielkwong_Desktop_piggy_bank_node_modules_babel_runtime_helpers_esm_createClass__WEBPACK_IMPORTED_MODULE_1__.a)(t,[{key:"render",value:function(){var e="col-"+this.props.cols;return react__WEBPACK_IMPORTED_MODULE_6___default.a.createElement("button",{className:e+" font-weight-bold btn btn-primary border border-default",onClick:this.mathFunc},this.props.elem)}},{key:"mathFunc",value:function(){this.props.mathFunc(this.props.elem)}}]),t}(react__WEBPACK_IMPORTED_MODULE_6__.Component);__webpack_exports__.a=Calculator},170:function(e,t,a){e.exports=a(350)},175:function(e,t,a){},176:function(e,t,a){},187:function(e,t,a){},208:function(e,t,a){},350:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(9),s=a.n(l),o=(a(175),a(15)),c=a(14),_=a(16),i=a(17),u=a(13),m=a(18),d=(a(176),a(60)),h=a.n(d);h.a.initializeApp({apiKey:"AIzaSyD3P-Q1xAbQTYTPkD4mYnHDdEjl6dv2k1I",authDomain:"piggybankbackup5.firebaseapp.com",databaseURL:"https://piggybankbackup5.firebaseio.com",projectId:"piggybankbackup5",storageBucket:"piggybankbackup5.appspot.com",messagingSenderId:"364062625328",appId:"1:364062625328:web:1fab3cbafa6cd01d2067f5"});var p=h.a.firestore(),E=h.a,g=a(43);a(187);var b=a(19);a(188);function f(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}r.a.Component;var O=a(403),v=a(415),C=a(410),D=a(151),y=a.n(D),k=a(411),M=a(414),P=a(413),U=a(412),w=a(426),T=a(407),j=a(428),B=a(408),A=a(405),I=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).handleChange=function(e){return function(t){a.setState(Object(b.a)({},e,t.target.value))}},a.state={name:"",amount:"",category:"",date:0},a.NewExpenseForm=a.NewExpenseForm.bind(Object(u.a)(a)),a.ExpenseFormDialog=a.ExpenseFormDialog.bind(Object(u.a)(a)),a.createExpense=a.createExpense.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createExpense",value:function(e,t,a,n){return{name:e,amount:t,category:a,date:n}}},{key:"NewExpenseForm",value:function(){var e=Object(O.a)((function(e){return{root:{display:"flex",flexWrap:"wrap"},margin:{margin:e.spacing(1)},withoutLabel:{marginTop:e.spacing(3)},textField:{width:200},menu:{width:200}}}))(),t=r.a.useState({name:"",amount:"",category:"",date:""}),a=Object(g.a)(t,2);a[0],a[1];return r.a.createElement("div",null,r.a.createElement(A.a,{className:(e.margin,e.textField)},r.a.createElement(j.a,{htmlFor:"standard-adornment-name"},"Name"),r.a.createElement(T.a,{id:"standard-adornment-name",value:this.state.name,onChange:this.handleChange("name")})),r.a.createElement(A.a,{className:(e.margin,e.textField)},r.a.createElement(j.a,{htmlFor:"standard-adornment-amount"},"Amount"),r.a.createElement(T.a,{id:"standard-adornment-amount",type:"number",step:".01",value:this.state.amount,onChange:this.handleChange("amount"),startAdornment:r.a.createElement(B.a,{position:"start"},"$")})),r.a.createElement(A.a,{className:(e.margin,e.textField)},r.a.createElement(j.a,{htmlFor:"standard-adornment-category"},"Category"),r.a.createElement(T.a,{id:"standard-adornment-category",value:this.state.category,onChange:this.handleChange("category")})),r.a.createElement(w.a,{id:"date",label:"Date of Expense",type:"date",placeholder:"YYYY-MM-DD",className:e.textField,value:this.state.date,onChange:this.handleChange("date"),InputLabelProps:{shrink:!0}}))}},{key:"ExpenseFormDialog",value:function(){var e=this,t=Object(O.a)((function(e){return{fab:{margin:e.spacing(1)}}})),a=r.a.useState(!1),n=Object(g.a)(a,2),l=n[0],s=n[1],o=function(){s(!1)},c=t();return r.a.createElement("div",null,r.a.createElement(C.a,{color:"primary","aria-label":"add",className:c.fab,onClick:function(){s(!0)}},r.a.createElement(y.a,null)),r.a.createElement(k.a,{open:l,onClose:o,"aria-labelledby":"form-dialog-title"},r.a.createElement(U.a,{id:"form-dialog-title"},"New Expense"),r.a.createElement(P.a,null,r.a.createElement(this.NewExpenseForm,null)),r.a.createElement(M.a,null,r.a.createElement(v.a,{onClick:o,color:"primary"},"Cancel"),r.a.createElement(v.a,{onClick:function(){var t;t=e.createExpense(e.state.name,e.state.amount,e.state.category,e.state.date);var a=p.collection("users").doc(E.auth().currentUser.email);console.log(t,"Is going through",E.auth().currentUser.email),a.update({expenses:h.a.firestore.FieldValue.arrayUnion(t)}).then((function(){console.log("updating DB")})).catch((function(e){console.log("Error caused by no doc existing for db. Creating new categories: ",e),a.set({expenses:t},{merge:!0}).catch((function(e){console.log("Somethings really wrong: ",e)}))})),e.setState({name:"",amount:"",category:"",date:""}),s(!1)},color:"primary"},"Add"))))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(this.ExpenseFormDialog,null))}}]),t}(r.a.Component),L=a(427),S=a(429),R=a(416),x=a(63),W=a(155),K=a.n(W),N=a(417),F=a(421),q=a(420),Y=a(418),z=a(419),H=a(158),G=a(48),V=a(11),$=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).state={expenses:[]},a.ExpenseTable=a.ExpenseTable.bind(Object(u.a)(a)),a.Accordion=a.Accordion.bind(Object(u.a)(a)),a.tableListener=a.tableListener.bind(Object(u.a)(a)),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"createExpense",value:function(e,t,a,n){return{name:e,amount:t,category:a,date:n}}},{key:"componentDidMount",value:function(){}},{key:"componentDidUpdate",value:function(){}},{key:"Accordion",value:function(){var e=Object(O.a)((function(e){return{root:{width:"100%"},heading:{fontSize:e.typography.pxToRem(15),fontWeight:e.typography.fontWeightRegular}}}))();return r.a.createElement("div",{className:e.root},r.a.createElement(L.a,null,r.a.createElement(S.a,{expandIcon:r.a.createElement(K.a,null),"aria-controls":"panel1a-content",id:"panel1a-header"},r.a.createElement(x.a,{className:e.heading},"This Month's Expenses")),r.a.createElement(R.a,null,r.a.createElement(x.a,null,r.a.createElement(this.ExpenseTable,null)))))}},{key:"tableListener",value:function(){p.collection("users").doc(E.auth().currentUser.email).expenses.on("value",(function(e){this.setState({expenses:e.val()})}))}},{key:"ExpenseTable",value:function(){var e=Object(O.a)({root:{width:"100%",overflowX:"auto"},table:{minWidth:650}})();return r.a.createElement(H.a,{className:e.root},r.a.createElement(N.a,{className:e.table,"aria-label":"Expenses"},r.a.createElement(Y.a,null,r.a.createElement(z.a,null,r.a.createElement(q.a,null,"Expense"),r.a.createElement(q.a,{align:"right"},"Amount"),r.a.createElement(q.a,{align:"right"},"Category"),r.a.createElement(q.a,{align:"right"},"Date"))),r.a.createElement(F.a,null,this.state.expenses.map((function(e){return r.a.createElement(z.a,{key:e.index},r.a.createElement(q.a,{component:"th",scope:"row"},e.name),r.a.createElement(q.a,{align:"right"},e.amount),r.a.createElement(q.a,{align:"right"},e.category),r.a.createElement(q.a,{align:"right"},e.date))})))))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(this.Accordion,null),r.a.createElement(I,null))}}]),t}(r.a.Component),J=Object(G.f)($),Q=(n.Component,function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(_.a)(this,Object(i.a)(t).call(this))).updateInput=function(t){e.setState(Object(b.a)({},t.target.name,t.target.value))},e.setBudget=function(t){t.preventDefault(),p.collection("users").doc(E.auth().currentUser.email).update({budget:e.state.budget}),e.setState({budget:""})},e.state={budget:"",display_budget:"",name:""},e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this,t=0,a=0;E.firestore().collection("users").get().then((function(n){n.forEach((function(e){e.id==E.auth().currentUser.email&&(t=e.data().budget,a=1)})),0==a?e.setState({display_budget:"undefined"}):e.setState({display_budget:t})})).catch((function(e){console.log("Error fetching data: ",e)}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement("p",null,this.state.display_budget),r.a.createElement("form",{onSubmit:this.setBudget},r.a.createElement("div",{class:"mdl-textfield mdl-js-textfield"},r.a.createElement("input",{class:"mdl-textfield__input",type:"number",step:".01",name:"budget",placeholder:"Set your budget",onChange:this.updateInput,value:this.state.budget,required:!0})),r.a.createElement("button",{class:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored  ",type:"submit"},"Save"),r.a.createElement("br",null)))}},{key:"componentDidUpdate",value:function(){var e=this,t=0,a=0;E.firestore().collection("users").get().then((function(n){n.forEach((function(e){e.id==E.auth().currentUser.email&&(t=e.data().budget,a=1)})),0==a?e.setState({display_budget:"undefined"}):e.setState({display_budget:t})})).catch((function(e){console.log("Error fetching data: ",e)}))}},{key:"onKeyPress",value:function(e){var t=e.keyCode||e.which,a=String.fromCharCode(t);/\+|-/.test(a)&&e.preventDefault()}},{key:"render",value:function(){return r.a.createElement("div",null,"Current budget: ",r.a.createElement("b",null,"$",this.state.display_budget),r.a.createElement("form",{onSubmit:this.setBudget},r.a.createElement("div",{class:"mdl-textfield mdl-js-textfield"},r.a.createElement("input",{class:"mdl-textfield__input",onKeyPress:this.onKeyPress.bind(this),type:"number",name:"budget",placeholder:"Set your budget",onChange:this.updateInput,value:this.state.budget,required:!0})),r.a.createElement("button",{class:"mdl-button mdl-js-button mdl-button--raised mdl-button--colored  ",type:"submit"},"Save"),r.a.createElement("br",null)))}}]),t}(n.Component)),X=a(110),Z=a(70),ee=a(20),te=200,ae=320,ne=50,re=70,le=0,se=function(e){function t(e){var a;Object(o.a)(this,t);var n=new Date,r=new Date;r.setDate(r.getDate()-7);var l=new Date;l.setDate(l.getDate()-14);var s=new Date;s.setDate(s.getDate()-21);var c=new Date;return c.setDate(c.getDate()-28),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).selectColor=function(e){return["rgba(255, 0, 0, .75)","rgba(255, 128, 0, .75)","rgba(255, 255, 0, .75)","rgba(128, 255, 0, .75)","rgba(0, 255, 0, .75)","rgba(0, 255, 128, .75)","rgba(0, 255, 255, .75)","rgba(0, 128, 255, .75)","rgba(0, 0, 255, .75)","rgba(127, 0, 255, .75)","rgba(255, 0, 255, .75)","rgba(255, 0, 127, .75)","rgba(128, 128, 128, .75)","rgba(223, 223, 223, .75)","rgba(25, 25, 25, .75)"][e]},a.setLineGraphData=function(){for(var e=[],t=[],n=0;n<a.state.expenses.length;n++){var r=parseFloat(a.state.expenses[n].amount),l=a.state.expenses[n].date,s=l.charAt(5)+l.charAt(6)+"/"+l.charAt(8)+l.charAt(9),o=t.indexOf(s);-1!=o?(e[o]=e[o]+r,e[o]=parseFloat(e[o].toPrecision(4))):(e.push(r),t.push(s))}a.state.graphData[0].labels=t,a.state.graphData[0].datasets[0].data=e},a.setDoughnutGraphData=function(){for(var e=[],t=[],n=[],r=0;r<a.state.expenses.length;r++){var l=parseFloat(a.state.expenses[r].amount),s=a.state.expenses[r].category,o=t.indexOf(s);if(-1!=o)e[o]=e[o]+l,e[o]=parseFloat(e[o].toPrecision(4));else{e.push(l),t.push(s);var c=a.selectColor(n.length);n.push(c)}}a.state.graphData[1].labels=t,a.state.graphData[1].datasets[0].data=e,a.state.graphData[1].datasets[0].backgroundColor=n},a.state={value:"",pastInput:1,decimal:!1,expenses:[],graphData:[{labels:[c.getUTCMonth()+1+"/"+c.getUTCDate(),s.getUTCMonth()+1+"/"+s.getUTCDate(),l.getUTCMonth()+1+"/"+l.getUTCDate(),r.getUTCMonth()+1+"/"+r.getUTCDate(),n.getUTCMonth()+1+"/"+n.getUTCDate()],datasets:[{label:"Spent",data:[te,ae,ne,re,le],backgroundColor:["rgba(224, 54, 20, 0.2)"],borderColor:["rgba(224, 54, 20,1)"]}]},{datasets:[{data:[te,ae,ne,re,le],backgroundColor:["rgba(255, 0, 0, .75)"],borderColor:["#fff"]}],labels:[c.getUTCMonth()+1+"/"+c.getUTCDate(),s.getUTCMonth()+1+"/"+s.getUTCDate(),l.getUTCMonth()+1+"/"+l.getUTCDate(),r.getUTCMonth()+1+"/"+r.getUTCDate(),n.getUTCMonth()+1+"/"+n.getUTCDate()]}]},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;E.auth().onAuthStateChanged((function(t){if(t){var a=0,n=p.collection("users").doc(E.auth().currentUser.email);E.auth().currentUser.email;n.onSnapshot({includeMetadataChanges:!0},(function(t){try{e.setState({expenses:t.data().expenses}),console.log(e.state.expenses),console.log("Going through userRef snapshot"),e.setLineGraphData(),e.setDoughnutGraphData()}catch(n){console.log("We getting an error: ",n),a=0}})),1==a||e.setState({expenses:["None"]})}}))}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(ee.a,null,r.a.createElement(V.e,null,r.a.createElement(V.b,null,r.a.createElement(V.c,null,r.a.createElement(Z.b,{data:this.state.graphData[0],width:500,height:200,options:{responsive:!0,title:{display:!0,text:"Monthly Spending History Per Day",fontSize:20},legend:{display:!0,position:"top"},layout:{padding:{left:0,right:0,top:0,bottom:10}}}}),r.a.createElement("div",null,r.a.createElement(Z.a,{data:this.state.graphData[1],width:100,height:350,options:{responsive:!0,maintainAspectRatio:!1,title:{display:!0,text:"Monthly Spending History Per Category",fontSize:20},legend:{display:!0,position:"top"},layout:{padding:{left:0,right:0,top:0,bottom:10}}}})))))))}}]),t}(n.Component),oe=Object(G.f)(se),ce=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).prettyCurrency=function(e,t){0===t?e=102*e/100:1===t&&(e=98*e/100);for(var a=e.toFixed(4).toString();a.length<8;)a="0"+a;return a},a.createTable=function(){var e=a.state,t=Object.keys(e).map((function(t){return e[t]}))[2],n=[],l=[],s=["RUB","CAD","GBP","CHF","JPY","EUR"];for(var o in t)t.hasOwnProperty(o)&&s.includes(o)&&l.push(r.a.createElement("tr",null,r.a.createElement("td",null,o),r.a.createElement("td",null,a.prettyCurrency(t[o],0)),r.a.createElement("td",null,a.prettyCurrency(t[o])),r.a.createElement("td",null,a.prettyCurrency(t[o],1))));return n.push(r.a.createElement("tbody",null,l)),n},a.state={error:null,isLoaded:!1,rates:{}},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){var e=this;fetch("https://api.exchangeratesapi.io/latest?base=USD").then((function(e){return e.json()})).then((function(t){e.setState({isLoaded:!0,rates:t.rates})}),(function(t){e.setState({isLoaded:!0,error:t})}))}},{key:"render",value:function(){var e=this.state,t=e.error,a=e.isLoaded;return t?r.a.createElement("div",null,"Oops: ",t.message):a?r.a.createElement("div",null,r.a.createElement(V.e,null,r.a.createElement(V.b,null,r.a.createElement(V.c,null,r.a.createElement("table",{className:"currencyTable"},r.a.createElement("thead",null,r.a.createElement("tr",null,r.a.createElement("th",null,"\xa0"),r.a.createElement("th",null,"BUY"),r.a.createElement("th",null,"EXCHANGE RATE"),r.a.createElement("th",null,"SELL"))),this.createTable()),r.a.createElement("p",null,r.a.createElement("br",null),"Data fetched from\xa0",r.a.createElement("a",{href:"https://exchangeratesapi.io/"},"https://exchangeratesapi.io/"),"\xa0"))))):r.a.createElement("div",null,"Loading...")}}]),t}(n.Component);var _e=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).state={},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(Q,null),r.a.createElement(J,null),r.a.createElement("br",null))}}]),t}(r.a.Component);s.a.render(r.a.createElement(ee.a,null,r.a.createElement(_e,null)),document.getElementById("root"));var ie,ue,me=_e,de=(a(430),a(409),a(422),a(423),a(424),a(425),Object(O.a)((function(e){return{root:{display:"flex"},appBar:{width:"calc(100% - ".concat(240,"px)"),marginLeft:240},drawer:{width:240,flexShrink:0},drawerPaper:{width:240},toolbar:e.mixins.toolbar,content:{flexGrow:1,backgroundColor:e.palette.background.default,padding:e.spacing(3)}}})),function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).state={testing:""},a.logout=a.logout.bind(Object(u.a)(a)),console.log("Got to homepage"),a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"logout",value:function(){E.auth().signOut()}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(V.e,null,r.a.createElement(V.b,null,r.a.createElement(V.c,null,r.a.createElement("h3",null,"Welcome back to Piggy Bank!  ",this.state.testing," "),r.a.createElement(me,null),r.a.createElement(V.a,{onClick:this.logout},"Logout")))))}}]),t}(n.Component)),he=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).handleAMChange=function(e){a.setState({amountneed:e.target.value},(function(){a.validateAM()}))},a.handleCSChange=function(e){a.setState({currentsave:e.target.value},(function(){a.validateCS()}))},a.handleYRChange=function(e){a.setState({yearstosave:e.target.value},(function(){a.validateYR()}))},a.handleMOChange=function(e){a.setState({monthstosave:e.target.value},(function(){a.validateMO()}))},a.validateAM=function(){var e=a.state.amountneed;a.setState({amError:e>0?null:"Invalid input"})},a.validateCS=function(){var e=a.state.currentsave;a.setState({csError:e>-1?null:"Invalid input"})},a.validateYR=function(){var e=a.state.yearstosave;a.setState({yrError:e>-1?null:"Invalid input"})},a.validateMO=function(){var e=a.state.monthstosave;a.setState({moError:e>-1?null:"Invalid input"})},a.handleSubmit=function(e){e.preventDefault();var t=a.state,n=t.amountneed,r=t.currentsave,l=t.yearstosave,s=t.monthstosave;ue=Number(12*l)+Number(s),ie=(Number(n)-Number(r))/Number(ue),alert("You need to save approximately $"+Math.ceil(ie)+" per month to reach your goal. \nGood luck!")},a.state={amountneed:"",currentsave:"",yearstosave:"",monthstosave:"",amError:"",csError:"",yrError:"",moError:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"render",value:function(){return r.a.createElement(V.e,null,r.a.createElement(V.b,null,r.a.createElement(V.c,null,r.a.createElement("form",{onSubmit:this.handleSubmit},r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"amountneed"},"How much will you need?"),r.a.createElement("input",{amountneed:"amountneed",className:"form-control ".concat(this.state.amError?"is-invalid":""),id:"amountneed",placeholder:"1000",type:"number",value:this.state.amountneed,onChange:this.handleAMChange,onBlur:this.validateAM}),r.a.createElement("div",{className:"invalid-feedback"},this.state.amError)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"currentsave"},"How much do you currently have saved?"),r.a.createElement("input",{currentsave:"currentsave",className:"form-control ".concat(this.state.csError?"is-invalid":""),id:"currentsave",placeholder:"1000",type:"number",value:this.state.currentsave,onChange:this.handleCSChange,onBlur:this.validateCS}),r.a.createElement("div",{className:"invalid-feedback"},this.state.csError)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"yearstosave"},"How many years?"),r.a.createElement("input",{yearstosave:"yearstosave",className:"form-control ".concat(this.state.yrError?"is-invalid":""),id:"yearstosave",placeholder:"0",type:"number",value:this.state.yearstosave,onChange:this.handleYRChange,onBlur:this.validateYR}),r.a.createElement("div",{className:"invalid-feedback"},this.state.yrError)),r.a.createElement("div",{className:"form-group"},r.a.createElement("label",{htmlFor:"monthstosave"},"How many months?"),r.a.createElement("input",{monthstosave:"monthstosave",className:"form-control ".concat(this.state.moError?"is-invalid":""),id:"monthstosave",placeholder:"0",type:"number",value:this.state.monthstosave,onChange:this.handleMOChange,onBlur:this.validateMO}),r.a.createElement("div",{className:"invalid-feedback"},this.state.moError)),r.a.createElement("button",{type:"submit",className:"btn btn-success btn-block"},"Submit")))))}}]),t}(r.a.Component),pe=function(){return r.a.createElement(G.c,null,r.a.createElement(G.a,{exact:!0,path:"/",component:de}),r.a.createElement(G.a,{path:"/currency",component:ce}),r.a.createElement(G.a,{path:"/linegraph",component:oe}),r.a.createElement(G.a,{path:"/calculator",component:X.a}),r.a.createElement(G.a,{path:"/spendingcalc",component:he}))},Ee=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).handleChange=a.handleChange.bind(Object(u.a)(a)),a.signup=a.signup.bind(Object(u.a)(a)),a.state={name:"",email:"",password:""},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"signup",value:function(e){e.preventDefault(),E.auth().createUserWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).then((function(e){console.log(e)})).catch((function(e){console.log(e),alert(e)})),E.firestore().doc("/users/".concat(this.state.email)).set({name:this.state.name,password:this.state.password})}},{key:"render",value:function(){return r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"3vh",width:"1000px"}},r.a.createElement(V.g,null,r.a.createElement(V.e,null,r.a.createElement(V.h,null,r.a.createElement(V.d,{md:"6"},r.a.createElement(V.b,null,r.a.createElement(V.c,null,r.a.createElement("form",null,r.a.createElement("p",{className:"h4 text-center py-4"},"Sign up"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(V.f,{value:this.state.name,onChange:this.handleChange,label:"Your name",icon:"user",group:!0,name:"name",type:"text",validate:!0,error:"wrong",success:"right"}),r.a.createElement(V.f,{value:this.state.email,onChange:this.handleChange,label:"Your email",icon:"envelope",group:!0,name:"email",type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement(V.f,{value:this.state.password,onChange:this.handleChange,label:"Your password",icon:"lock",group:!0,name:"password",type:"password",validate:!0})),r.a.createElement("div",{className:"text-center py-4 mt-3"},r.a.createElement(V.a,{color:"orange",type:"submit",onClick:this.signup},"Register"),r.a.createElement(V.a,{color:"blue",type:"submit",onClick:"close"},"Close"))))))))))}}]),t}(n.Component),ge=a(157),be=a.n(ge),fe=function(e){function t(e){var a;return Object(o.a)(this,t),(a=Object(_.a)(this,Object(i.a)(t).call(this,e))).login=a.login.bind(Object(u.a)(a)),a.recaptchaLoaded=a.recaptchaLoaded.bind(Object(u.a)(a)),a.verifyCallback=a.verifyCallback.bind(Object(u.a)(a)),a.handleChange=a.handleChange.bind(Object(u.a)(a)),a.signup=a.signup.bind(Object(u.a)(a)),a.state={email:"",password:"",showsignup:!1,isVerified:!1},a}return Object(m.a)(t,e),Object(c.a)(t,[{key:"recaptchaLoaded",value:function(){console.log("captcha loaded lul")}},{key:"verifyCallback",value:function(e){e&&this.setState({isVerified:!0})}},{key:"handleChange",value:function(e){this.setState(Object(b.a)({},e.target.name,e.target.value))}},{key:"login",value:function(e){1==this.state.isVerified?(e.preventDefault(),console.log(this.state.email),E.auth().signInWithEmailAndPassword(this.state.email,this.state.password).then((function(e){})).catch((function(e){alert(e)}))):alert("Please complete human verification.")}},{key:"signup",value:function(e){1==this.state.isVerified?this.setState({showsignup:!0}):alert("Please complete human verification.")}},{key:"render",value:function(){return r.a.createElement(V.e,null,r.a.createElement(V.b,{style:{width:"80rem",height:"25rem",padding:"50px"}},r.a.createElement("form",null,r.a.createElement("p",{className:"h5 text-center mb-4"},"Sign in"),r.a.createElement("div",{className:"grey-text"},r.a.createElement(V.f,{value:this.state.email,onChange:this.handleChange,label:"Type your email",icon:"envelope",group:!0,name:"email",type:"email",validate:!0,error:"wrong",success:"right"}),r.a.createElement(V.f,{value:this.state.password,onChange:this.handleChange,label:"Type your password",icon:"lock",group:!0,name:"password",type:"password",validate:!0})),r.a.createElement("div",{className:"d-inline"},r.a.createElement(V.a,{type:"submit",onClick:this.login},"Login")),r.a.createElement("div",{className:"d-inline"},r.a.createElement(V.a,{color:"indigo",onClick:this.signup},"SignUp"),this.state.showsignup?r.a.createElement(Ee,null):null))),r.a.createElement(be.a,{sitekey:"6LdiycUUAAAAAO3vnWuzvNupDAi27ml9ywGkUCTl",render:"explicit",onloadCallback:this.recaptchaLoaded,verifyCallback:this.verifyCallback}))}}]),t}(n.Component),Oe=(a(300),a(49)),ve=(a(347),function(e){function t(){var e;return Object(o.a)(this,t),(e=Object(_.a)(this,Object(i.a)(t).call(this))).state={user:null},e.authListener=e.authListener.bind(Object(u.a)(e)),e}return Object(m.a)(t,e),Object(c.a)(t,[{key:"componentDidMount",value:function(){this.authListener()}},{key:"authListener",value:function(){var e=this;E.auth().onAuthStateChanged((function(t){t?(e.setState({user:t}),localStorage.setItem("user",t.uid)):(e.setState({user:null}),localStorage.removeItem("user"))}))}},{key:"render",value:function(){return console.log(this.state.user),r.a.createElement("div",{id:"root"},r.a.createElement("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh"}},r.a.createElement(Oe.Layout,{fixedHeader:!0},r.a.createElement(Oe.Header,{title:r.a.createElement("span",null,r.a.createElement("span",{style:{color:"#ddd"}},"Piggy Bank "))}),r.a.createElement(Oe.Drawer,null,r.a.createElement(Oe.Navigation,null,r.a.createElement(ee.b,{to:"/"},"Home"),r.a.createElement(ee.b,{to:"/linegraph"},"Statistics"),r.a.createElement(ee.b,{to:"/spendingcalc"},"Savings Estimator"),r.a.createElement(ee.b,{to:"/calculator"},"Calculator"),r.a.createElement(ee.b,{to:"/currency"},"Live Exchange Rates"))),r.a.createElement(Oe.Content,null,r.a.createElement("div",{className:"page-content"}),r.a.createElement("div",{className:"App"},this.state.user?r.a.createElement(pe,null):r.a.createElement(fe,null))),r.a.createElement(Oe.Footer,{class:"page-footer font-small blue "},r.a.createElement(Oe.FooterSection,{type:"middle",logo:"\xa9 2019-2020 Team 0: https://github.com/jaeeee/Piggy-Bank"})))))}}]),t}(n.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(348),a(349);s.a.render(r.a.createElement(ee.a,null,r.a.createElement(ve,null)),document.getElementById("root")||document.createElement("div")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}},[[170,1,2]]]);
//# sourceMappingURL=main.926cd028.chunk.js.map